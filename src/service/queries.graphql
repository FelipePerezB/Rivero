# Run "npm run codegen" for autogenerate the schema

query GetSubjects {
  subjects {
    color
    name
    id
    Topics {
      name
    }
  }
}

query GetUser($where: UserWhereUniqueInput!) {
  user(where: $where) {
    name
    lastname
    role
    organizationId
    email
    externalId
    id
  }
}

query GetSubjectsPaths {
  subjects {
    id
  }
}

query GetSubject($subjectId: Int!, $topicId: Int!) {
  subject(id: $subjectId) {
    id
    name
    color
    Topics {
      name
      id
    }
  }
  topicAndSubtopic(id: $topicId) {
    name
    id
    Subtopics {
      _count {
        Notes
      }
      id
      name
      Notes {
        type
        File {
          title
          externalId
          id
        }
      }
    }
  }
}

query GetNotes($where: NoteWhereInput) {
  notes(where: $where) {
    File {
      id
      title
    }
  }
}

# query GetAllDataSubjects {
#   subjects {
#     id
#     name
#     color
#     Topics {
#       _count {
#         Docs
#       }
#       id
#       name
#       Subtopics {
#         name
#         Docs {
#           id
#           title
#         }
#       }
#     }
#   }
# }

query GetUserByEmail($email: String!) {
  userByEmail(email: $email) {
    email
    id
    lastname
    name
    role
  }
}

query GetUsers($where: UserWhereInput) {
  users(where: $where) {
    lastname
    name
    role
    email
  }
}

query GetOrganization {
  organizations {
    id
    name
  }
}

query GetGroups($where: GroupWhereInput) {
  groups(where: $where) {
    id
    name
    Users {
      name
      lastname
      externalId
      role
      externalId
      email
    }
  }
}

mutation CreateGroup($createGroupInput: GroupCreateInput!) {
  createGroup(createGroupInput: $createGroupInput) {
    name
  }
}

mutation CreateTopic($createTopicInput: TopicCreateInput!) {
  createTopic(createTopicInput: $createTopicInput) {
    name
    id
  }
}

mutation CreateSubtopic($createSubtopicInput: SubtopicCreateInput!) {
  createSubtopic(createSubtopicInput: $createSubtopicInput) {
    id
    name
  }
}

# mutation CreateDoc($createDocInput: DocCreateInput!) {
#   createDoc(createDocInput: $createDocInput) {
#     id
#   }
# }

# query LoginUser($user: LoginUserInput!) {
#   login(user: $user) {
#     username
#     email
#     id
#     groupId
#     role
#   }
# }

# query GetSubjectsIds($where: SubjectWhereInput!) {
#   subjects(where: $where) {
#     id
#   }
# }

# mutation UpdateDoc($updateDocId: Float!, $updateDocInput: DocUpdateInput!) {
#   updateDoc(id: $updateDocId, updateDocInput: $updateDocInput) {
#     id
#   }
# }

mutation UpdateTopic(
  $updateTopicId: Float!
  $updateTopicInput: TopicUpdateInput!
) {
  updateTopic(id: $updateTopicId, updateTopicInput: $updateTopicInput) {
    name
    id
  }
}

mutation UpdateSubtopic(
  $updateSubtopicId: Float!
  $updateSubtopicInput: SubtopicUpdateInput!
) {
  updateSubtopic(
    id: $updateSubtopicId
    updateSubtopicInput: $updateSubtopicInput
  ) {
    id
  }
}

mutation UpdateGroup(
  $updateGroupId: Float!
  $updateGroupInput: GroupUpdateInput!
) {
  updateGroup(id: $updateGroupId, updateGroupInput: $updateGroupInput) {
    id
    name
  }
}

mutation UpdateSubject(
  $updateSubjectId: Float!
  $updateSubjectInput: SubjectUpdateInput!
) {
  updateSubject(id: $updateSubjectId, updateSubjectInput: $updateSubjectInput) {
    name
    id
  }
}

mutation CreateSubject($createSubjectInput: SubjectCreateInput!) {
  createSubject(createSubjectInput: $createSubjectInput) {
    id
    name
  }
}

mutation createUser($createUserInput: UserCreateInput!) {
  createUser(createUserInput: $createUserInput) {
    id
    email
  }
}

mutation RemoveUser($where: UserWhereUniqueInput!) {
  removeUser(where: $where) {
    id
    name
    lastname
  }
}

mutation RemoveSubject($removeSubjectId: Int!) {
  removeSubject(id: $removeSubjectId) {
    id
    name
  }
}

mutation RemoveGroup($removeGroupId: Int!) {
  removeGroup(id: $removeGroupId) {
    id
    name
  }
}

mutation UpdateUser(
  $where: UserWhereUniqueInput!
  $updateUserInput: UserUpdateInput!
) {
  updateUser(where: $where, updateUserInput: $updateUserInput) {
    id
  }
}

# query GetDoc($where: DocWhereUniqueInput!) {
#   doc(where: $where) {
#     content
#     title
#     privacity
#     externalId
#     id
#     type
#     Subject {
#       name
#     }
#     Topic {
#       name
#     }
#     Subtopic {
#       name
#     }
#   }
# }

# mutation RemoveDoc($removeDocId: Int!) {
#   removeDoc(id: $removeDocId) {
#     title
#     id
#   }
# }

mutation RemoveTopic($removeTopicId: Int!) {
  removeTopic(id: $removeTopicId) {
    id
    name
  }
}

mutation removeSubtopic($removeSubtopicId: Int!) {
  removeSubtopic(id: $removeSubtopicId) {
    name
    id
  }
}
