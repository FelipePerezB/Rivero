# Run "npm run codegen" for autogenerate the schema

query GetSubjects {
  subjects {
    color
    name
    id
    _count {
      Docs
    }
    Topics {
      name
    }
  }
}

query GetSubjectsPaths {
  subjects {
    id
  }
}

query GetSubject($subjectId: Int!) {
  subject(id: $subjectId) {
    name
    color
    Topics {
      id
      name
      _count {
        Docs
      }
      Subtopics {
        name
        Docs {
          externalId
          title
        }
      }
    }
  }
}

# query GetAllDataSubjects {
#   subjects {
#     id
#     name
#     color
#     Topics {
#       _count {
#         Docs
#       }
#       id
#       name
#       Subtopics {
#         name
#         Docs {
#           id
#           title
#         }
#       }
#     }
#   }
# }

query GetUserByEmail($email: String!) {
  userByEmail(email: $email) {
    email
    gradeId
    id
    username
    role
  }
}

# query LoginUser($user: LoginUserInput!) {
#   login(user: $user) {
#     username
#     email
#     id
#     gradeId
#     role
#   }
# }

# query GetSubjectsIds($where: SubjectWhereInput!) {
#   subjects(where: $where) {
#     id
#   }
# }

mutation UpdateDoc($updateDocId: Float!, $updateDocInput: DocUpdateInput!) {
  updateDoc(id: $updateDocId, updateDocInput: $updateDocInput) {
    id
  }
}

mutation createUser($createUserInput: UserCreateInput!) {
  createUser(createUserInput: $createUserInput) {
    id
    email
  }
}

mutation RemoveUser($where: UserWhereUniqueInput!) {
  removeUser(where: $where) {
    id
  }
}

mutation UpdateUser(
  $where: UserWhereUniqueInput!
  $updateUserInput: UserUpdateInput!
) {
  updateUser(where: $where, updateUserInput: $updateUserInput) {
    id
  }
}

query GetDoc($where: DocWhereUniqueInput!) {
  doc(where: $where) {
    content
    title
    privacity
    externalId
    id
    type
    Subject {
      name
    }
    Topic {
      name
    }
    Subtopic {
      name
    }
  }
}

mutation CreateDoc($createDocInput: DocCreateInput!) {
  createDoc(createDocInput: $createDocInput) {
    id
  }
}
